/**
 * Extracts keys from some object.  See inline comments below for exact usage.
 *
 * @param {Object} keys
 * @param {Object} object
 * @param {Function} handler Optional
 * @return {Function} pass the `stores` to this returned function
 * @api public
 */
'use strict';

exports.__esModule = true;
var selectKeys = function selectKeys(keys, object) {
  var handler = arguments.length <= 2 || arguments[2] === undefined ? function () {} : arguments[2];

  if (!keys) {
    for (var key in object) {
      if (typeof object[key] !== 'undefined') {
        handler(key, object[key]);
      }
    }

    return object;
  }

  var selected = {};
  var keysArray = Object.keys(keys);
  var firstKey = keysArray[0];

  if (!firstKey) {
    // empty object implies no keys are extracted
    return selected;
  }

  if (keys[firstKey]) {
    // when truthy, extract each key
    for (var key in keys) {
      if (typeof object[key] !== 'undefined') {
        selected[key] = object[key];
        handler(key, object[key]);
      }
    }
  } else {
    // when falsy, extract other keys
    for (var key in object) {
      if (typeof keys[key] === 'undefined') {
        selected[key] = object[key];
        handler(key, object[key]);
      }
    }
  }

  return selected;
};

exports['default'] = selectKeys;
module.exports = exports['default'];